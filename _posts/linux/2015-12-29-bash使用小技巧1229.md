---
title:  bash使用小技巧-12-29
date: 2015-12-29 14:12:28 +0800
tags: linux
- a
- b
---

* toc
{:toc}


> 这两天编写了个脚本，将老版本的sql转为新版本的sql，过程中有一些细节还是值得记录一下的

## string 去掉空格

    $ str=" hello world "
    $ echo "#${str//[[:blank:]]}/#"
    #helloworld#

## 字符串的切割

该方法很早就用到了，但是之前主要是做路径的切割，使用了 `'/'`字符，其实可以使用字符串的

    $ sql="select id,name from students where id>1"
    $ echo ${sql%from*}
    select id,name
    $ echo ${sql#*from}
    students where id>1


## sql 拼接

在生成的sql的字段中本身就还有单引号，如果要顺利执行这些sql语句，可以将单个单引号转为两个单引号

    sql=`echo "$select from $condition" | sed -e "s/'/''/g"`
    $MYSQL -e "$sql"

## mysql 

mysql  -s slient，不显示头部
       -t tab  table的格式输出

如果既有-t，又有-s呢，-s的效果就被覆盖了    
